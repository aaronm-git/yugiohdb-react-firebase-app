(this["webpackJsonpyugiohdb-react-firebase-app"]=this["webpackJsonpyugiohdb-react-firebase-app"]||[]).push([[0],{101:function(e,a,t){e.exports=t(134)},106:function(e,a,t){},107:function(e,a,t){},134:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(58),l=t.n(c),s=(t(106),t(99)),o=t(23),i=(t(107),t(29)),u=t(36),m=t(144),d=t(140),p=t(89),E=t(151),f=t(33),h=t.n(f),b=t(41),v=t(66),g=t.n(v);g.a.initializeApp({apiKey:"AIzaSyAaWDAuv9g4tjszrk7j8FjXQWkqi4u_EJA",authDomain:"yugiohdb-app.firebaseapp.com",databaseURL:"https://yugiohdb-app.firebaseio.com",projectId:"yugiohdb-app",storageBucket:"yugiohdb-app.appspot.com",messagingSenderId:"742465348899",appId:"1:742465348899:web:bc22903273dd706ccb1896",measurementId:"G-MDTYD0X896"}),g.a.analytics();var y=g.a,w=t(138),N=(t(139),t(154),t(137)),j=function(){return r.a.createElement("div",{className:"text-center my-3"},r.a.createElement(N.a,{animation:"border",role:"status",variant:"warning"},r.a.createElement("span",{className:"sr-only"},"Loading...")))};var S=t(90),k=t.n(S);t(150),t(152),t(147),t(156),t(155),t(153),t(148),k()("A5JPX9U9RD","bffd80bc0030e6e51457ec77f6ff353c");var x=t(142),O=t(149);function I(e){var a=e.card,t=function(e){var a,t,n=e.card;n.type&&n.type.includes("Monster")&&(a=r.a.createElement(O.a.Item,null,"ATK: ",n.atk," / DEF: ",n.def),t=r.a.createElement(x.a,{variant:"secondary"},n.race));var c=n.desc.replace("\u25cf","\n\u25cf");return r.a.createElement(O.a,{variant:"flush"},r.a.createElement(O.a.Item,null,r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("div",null,function(e){var a="",t="";switch(e){case"Effect Monster":a="orange",t="white";break;case"Trap Card":a="#af3568",t="white";break;case"Spell Card":a="#3edf80",t="white"}return r.a.createElement(x.a,{variant:"secondary",style:{backgroundColor:a,color:t}},e)}(n.type)," / ID: ",n.id),r.a.createElement("div",null,r.a.createElement(x.a,{variant:"secondary"},n.attribute)," ",t))),a,r.a.createElement(O.a.Item,{style:{whiteSpace:"pre-line"}},c),r.a.createElement(O.a.Item,null,r.a.createElement("p",null,"Type: ",n.type),r.a.createElement("p",null,"Race: ",n.race),r.a.createElement("p",null,"Archetype: ",n.archetype)))};return r.a.createElement("div",{className:"position-relative"},r.a.createElement("h2",{className:"text-center h4"},a.name),Object.keys(a).length?r.a.createElement(t,{card:a}):r.a.createElement("h5",null,"Invalid Id"))}function C(e){var a=e.cardId,t=r.a.useState(""),n=Object(o.a)(t,2),c=n[0],l=n[1],s=r.a.useState(!1),i=Object(o.a)(s,2),u=i[0],m=i[1],d=r.a.useState(!1),p=Object(o.a)(d,2),E=p[0],f=p[1],v=y.functions().httpsCallable("verifyImgExists");return r.a.useEffect((function(){if(a&&!1===u){function e(){return(e=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v({cardId:a});case 3:if(!(t=e.sent).data.Data.exists||500===t.data.Status){e.next=9;break}return e.next=7,y.storage().ref("cards/".concat(a,".jpg")).getDownloadURL();case 7:n=e.sent,l(n);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0),l("https://sportzor.com/images/ygo_cardback_sleeves19.jpg");case 15:f(!0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),m(!0)}}),[a,c,u,v]),r.a.createElement(r.a.Fragment,null,E?r.a.createElement(w.a,{src:c,className:"w-75"}):r.a.createElement(j,null))}var D=y.firestore();function A(){var e=r.a.useState({}),a=Object(o.a)(e,2),t=a[0],n=a[1],c=r.a.useState(!1),l=Object(o.a)(c,2),s=l[0],i=l[1],m=Object(u.g)().id;return r.a.useEffect((function(){(function(){var e=Object(b.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Querying..."),e.next=3,D.collection("cards").where("id","==",parseInt(m,10)).get();case 3:(a=e.sent).size?(n(a.docs[0].data()),i(!0)):window.location.replace("/".concat(window.location.pathname.split("/")[1],"/404"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m]),r.a.createElement(d.a,null,r.a.createElement(p.a,{className:"text-center mb-2 mb-md-0"},r.a.createElement(C,{cardId:s?t.card_images[0].id:""})),r.a.createElement(p.a,{md:"8",lg:"5"},s?r.a.createElement(I,{card:t}):r.a.createElement(j,null)),r.a.createElement(p.a,{md:"12",lg:"3",className:"text-center py-3"},r.a.createElement("h5",null,"Card Stats")))}var T=t(145),J=t(146),R=t(95);function B(){var e=Object(u.f)(),a=r.a.useState(""),t=Object(o.a)(a,2),n=t[0],c=t[1];return r.a.createElement(T.a,{expand:"lg",className:"rounded shadow-lg justify-content-between",variant:"dark",bg:"dark"},r.a.createElement(i.b,{to:"/",className:"navbar-brand"},"Yu-Gi-Oh! Card Search"),r.a.createElement(J.a,{inline:!0,className:"position-relative",onSubmit:function(a){a.preventDefault(),e.push("/search?q=".concat(n))}},r.a.createElement(R.a,{type:"text",className:"mr-sm-2",placeholder:"Search",onChange:function(e){c(e.target.value)}}),r.a.createElement(i.b,{to:"/search/?q=".concat(n),className:"btn btn-outline-warning"},"SEARCH")))}function z(){var e=function(){return null};return r.a.createElement(T.a,{className:"pt-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md text-light"},r.a.createElement("small",{className:"d-block mb-3"},"\xa9 2020"),r.a.createElement(e,null))))}var F=t(143);function V(e){var a=e.recentCards,t=e.selectThisCard;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Home"),r.a.createElement("hr",null),r.a.createElement("h5",null,"Recently Viewed Cards"),r.a.createElement(F.a,null,a?a.map((function(e){return function(e){return r.a.createElement(E.a,{key:"recent-"+e.id},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,null,e.name),e.type,r.a.createElement("hr",null),r.a.createElement(i.b,{to:"/card/".concat(e.id),className:"btn btn-block btn-warning",onClick:function(){return t(e)}},"View Card")))}(e)})):r.a.createElement(E.a,null,r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,{className:"text-center text-muted"},"No Recently Viewed Cards")))))}var M=t(96),W=t(97),_=t(98),q=t(100),H=function(e){Object(q.a)(t,e);var a=Object(_.a)(t);function t(){return Object(M.a)(this,t),a.apply(this,arguments)}return Object(W.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",null,"404"),r.a.createElement("h5",null,"Not Found"))}}]),t}(n.Component);var L=function(){var e=r.a.useState({}),a=Object(o.a)(e,2),t=a[0],n=a[1],c=r.a.useState(JSON.parse(localStorage.getItem("recentlyViewed"))||[]),l=Object(o.a)(c,2),f=l[0],h=l[1],b=function(e){console.log("Select card...",e),localStorage.setItem("selectedCard",JSON.stringify(e)),n(e);var a=[e].concat(Object(s.a)(f.filter((function(a){return!(!e||!a)&&a.id!==e.id}))));h(a.slice(0,5)),localStorage.setItem("recentlyViewed",JSON.stringify(a))};return r.a.createElement(i.a,null,r.a.createElement(m.a,{className:"mb-3",style:{minHeight:"calc(100vh - 83px)"}},r.a.createElement(d.a,null,r.a.createElement(p.a,{className:"py-3"},r.a.createElement(B,null))),r.a.createElement(E.a,{className:"shadow-lg"},r.a.createElement(E.a.Body,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/search",render:function(e){}}),r.a.createElement(u.a,{path:"/card/:id",render:function(e){return r.a.createElement(A,Object.assign({},e,{selectThisCard:function(e){return b(e)},card:t}))}}),r.a.createElement(u.a,{path:"/404",component:H}),r.a.createElement(u.a,{path:"/"},r.a.createElement(V,{recentCards:f,selectThisCard:function(e){return b(e)}})))))),r.a.createElement(m.a,{fluid:!0,className:"bg-dark"},r.a.createElement(z,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.87b2c7db.chunk.js.map